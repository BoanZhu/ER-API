<!doctype html>
<html lang="en">

<head>
    <title>Add or Remove Input Fields Dynamically</title>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type = "text/javascript" src="js/jquery-3.2.1.js"></script>
    <style>
        body {
            display: flex;
            flex-direction: column;
            margin-top: 1%;
            justify-content: center;
            align-items: center;
        }
        #rowAdder {
            margin-left: 17px;
        }
        label{
            cursor: pointer;
            display: inline-block;
            padding: 3px 6px;
            text-align: right;
            width: 150px;
            vertical-align: top;
        }

    </style>
</head>

<body>
<form>
    <p>relationship</p>
    <div id="relationInput" class = "relationInput"></div>
    <button id="relationAdder" type="button" class="btn btn-dark"><span></span>ADD</button>
    <button id="addRelation" type="button" class="btn btn-dark"><span></span>CREATE</button>
</form>

<script type="text/javascript">


    $("#relationAdder").click(function () {
        newRowAdd =
            '<div class="relationInput"><div class="relation" id = "relation">' +
            '<input type="text" class="from"></input><br>'+
            '<input type="text" class="to"></input><br>'+
            '<input type="text" class="fromtext"></input><br>'+
            '<input type="text" class="toText"></input><br>'+
            '<button class="btn btn-danger" id="DeleteRow" type="button">Delete</button></div></div>';
        $('#relationInput').append(newRowAdd);
    });

    $("body").on("click", "#DeleteRow", function () {
        $(this).parents("#relation").remove();
    });

    $("body").on("click", "#addRelation", function () {
        let linkDataArray = [{from: "Products", to:"Suppliers",text: "0..N",toText: "1" }];
        linkDataArray = [];

        $(".relation").each(function (){
            /*
            initialize the attribute dict
             */
            let relation_dict = {};
            let from = "";
            let to = "";
            let fromtext= "";
            let toText=""

            from = $(this).children(".from").val();
            to = $(this).children(".to").val();
            fromtext = $(this).children(".fromtext").val();
            toText = $(this).children(".toText").val();

            if ((from !== undefined)) {
                relation_dict.from = from;
                relation_dict.to = to;
                relation_dict.fromtext = fromtext;
                relation_dict.toText = toText;

                linkDataArray.push(relation_dict);
            }
        });
        console.log(linkDataArray);

    });
</script>
</body>

</html>