<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head><meta charset="UTF-8">
    <title>API image</title>
    <script src="https://unpkg.com/gojs@2.2.16/release/go.js"></script>
    <script src="https://unpkg.com/gojs@2.2.16/extensions/Figures.js"></script>
    <script src="https://unpkg.com/gojs@2.2.16/extensions/Figures.js"></script>
    <script src="API.js"></script>

</head>
<body>
    <div id="model" style="background-color: whitesmoke; border: 1px solid black; height: 800px; position: relative; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); cursor: auto; font: bold 9pt Helvetica, Arial, sans-serif;">
</div>
    <div id ="image"></div>
    <div id = "modelData">{
        "schema": {
        "name": "BranchAccountMovement",
        "entityList": [
        {
        "name": "branch",
        "entityType": 1,
        "aimPort": 1,
        "strongEntityID": 1,
        "layoutInfo": {
        "layoutX": 0.0,
        "layoutY": 0.0
        },
        "attributeList": [
        {
        "belongObjID": 1,
        "belongObjType": 5,
        "aimPort": 1,
        "name": "sortcode",
        "dataType": 6,
        "isPrimary": true,
        "nullable": false,
        "layoutInfo": {
        "layoutX": 0.0,
        "layoutY": 0.0
        },
        "id": 491
        }
        ],
        "id": 589
        }
        ],
        "relationshipList": [
        {
        "name": "holds",
        "layoutInfo": {
        "layoutX": 0.0,
        "layoutY": 0.0
        },
        "edgeList": [
        {
        "ID": 1,
        "relationshipID": 10,
        "entityID": 5,
        "entityName": "haha",
        "cardinality": 1,
        "portAtRelationship": 5,
        "portAtEntity": 2
        },
        {
        "ID": 2,
        "relationshipID": 10,
        "entityID": 6,
        "entityName": "hehe",
        "cardinality": 1,
        "portAtRelationship": 5,
        "portAtEntity": 2
        }
        ],
        "id": 150,
        "attributeList": [
        {
        "belongObjID": 1,
        "belongObjType": 5,
        "aimPort": 1,
        "name": "sortcode",
        "dataType": 6,
        "isPrimary": true,
        "nullable": false,
        "layoutInfo": {
        "layoutX": 0.0,
        "layoutY": 0.0
        },
        "id": 491
        }
        ]
        }
        ],
        "id": 340
        }
        }
    </div>
</body>
<script id="code">
    function load() {
        const modelData = JSON.parse(document.getElementById("modelData").innerHTML);
        showSchema(modelData);
        const image = APIDiagram.makeImage({ background: "white"});
        document.getElementById("image").innerHTML = image.src;
    }
    window.addEventListener('DOMContentLoaded', load);
</script>
</html>