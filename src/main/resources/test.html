<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head><meta charset="UTF-8">
    <title>API image</title>
    <script src="https://unpkg.com/gojs@2.2.16/release/go.js"></script>
    <script src="https://unpkg.com/gojs@2.2.16/extensions/Figures.js"></script>
    <script src="https://unpkg.com/gojs@2.2.16/extensions/Figures.js"></script>
    <script src="API.js"></script>

</head>
<body>
    <div id="model" style="background-color: whitesmoke; border: 1px solid black; height: 800px; position: relative; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); cursor: auto; font: bold 9pt Helvetica, Arial, sans-serif;">
</div>
    <div id ="image"></div>
    <div id = "modelData">{
        "schema": {
        "id" : 535,
        "name" : "reverseEng",
        "entityList" : [ {
        "id" : 1263,
        "name" : "new_entity0",
        "entityType" : 1,
        "attributeList" : [ {
        "id" : 1250,
        "name" : "e0_pk",
        "dataType" : 3,
        "isPrimary" : true,
        "nullable" : false,
        "aimPort" : -1
        }, {
        "id" : 1251,
        "name" : "e0_c1",
        "dataType" : 3,
        "isPrimary" : false,
        "nullable" : false,
        "aimPort" : -1
        }, {
        "id" : 1252,
        "name" : "e0_c2",
        "dataType" : 3,
        "isPrimary" : false,
        "nullable" : false,
        "aimPort" : -1
        } ],
        "aimPort" : -1,
        "belongStrongEntityID" : null
        }, {
        "id" : 1264,
        "name" : "new_entity1",
        "entityType" : 1,
        "attributeList" : [ {
        "id" : 1253,
        "name" : "e1_pk",
        "dataType" : 3,
        "isPrimary" : true,
        "nullable" : false,
        "aimPort" : -1
        }, {
        "id" : 1254,
        "name" : "e1_c1",
        "dataType" : 3,
        "isPrimary" : false,
        "nullable" : false,
        "aimPort" : -1
        } ],
        "aimPort" : -1,
        "belongStrongEntityID" : null
        }, {
        "id" : 1265,
        "name" : "new_entity2",
        "entityType" : 1,
        "attributeList" : [ {
        "id" : 1255,
        "name" : "e2_pk",
        "dataType" : 3,
        "isPrimary" : true,
        "nullable" : false,
        "aimPort" : -1
        }, {
        "id" : 1256,
        "name" : "e2_c1",
        "dataType" : 3,
        "isPrimary" : false,
        "nullable" : false,
        "aimPort" : -1
        } ],
        "aimPort" : -1,
        "belongStrongEntityID" : null
        }, {
        "id" : 1266,
        "name" : "weak_entity",
        "entityType" : 2,
        "attributeList" : [ {
        "id" : 1257,
        "name" : "we_pk",
        "dataType" : 3,
        "isPrimary" : true,
        "nullable" : false,
        "aimPort" : -1
        }, {
        "id" : 1258,
        "name" : "we_c1",
        "dataType" : 3,
        "isPrimary" : false,
        "nullable" : false,
        "aimPort" : -1
        } ],
        "aimPort" : -1,
        "belongStrongEntityID" : "1263"
        }, {
        "id" : 1267,
        "name" : "subset",
        "entityType" : 3,
        "attributeList" : [ {
        "id" : 1259,
        "name" : "sub_c1",
        "dataType" : 3,
        "isPrimary" : false,
        "nullable" : false,
        "aimPort" : -1
        } ],
        "aimPort" : -1,
        "belongStrongEntityID" : "1263"
        } ],
        "relationshipList" : [ {
        "id" : 400,
        "name" : "unknow",
        "attributeList" : [ ],
        "edgeList" : [ {
        "id" : 844,
        "relationshipID" : 400,
        "entityID" : 1266,
        "cardinality" : 3,
        "portAtRelationship" : -1,
        "portAtEntity" : -1
        }, {
        "id" : 845,
        "relationshipID" : 400,
        "entityID" : 1263,
        "cardinality" : 2,
        "portAtRelationship" : -1,
        "portAtEntity" : -1
        } ]
        }, {
        "id" : 401,
        "name" : "unknow",
        "attributeList" : [ ],
        "edgeList" : [ {
        "id" : 846,
        "relationshipID" : 401,
        "entityID" : 1263,
        "cardinality" : 2,
        "portAtRelationship" : -1,
        "portAtEntity" : -1
        }, {
        "id" : 847,
        "relationshipID" : 401,
        "entityID" : 1264,
        "cardinality" : 2,
        "portAtRelationship" : -1,
        "portAtEntity" : -1
        }, {
        "id" : 848,
        "relationshipID" : 401,
        "entityID" : 1265,
        "cardinality" : 2,
        "portAtRelationship" : -1,
        "portAtEntity" : -1
        } ]
        } ]
        }
        }
    </div>
</body>
<script id="code">
    function load() {
        const modelData = JSON.parse(document.getElementById("modelData").innerHTML);
        showSchema(modelData);
        const image = APIDiagram.makeImage({ background: "white"});
        document.getElementById("image").innerHTML = image.src;
    }
    window.addEventListener('DOMContentLoaded', load);
</script>
</html>